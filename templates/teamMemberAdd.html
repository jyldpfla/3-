<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="{{ url_for('static', filename='assets/img/favicon.ico') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/style.css') }}" />
    <link rel="stylesheet" href="../static/assets/css/teamMembersAdd.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <title>íŒ€ì› ì¶”ê°€</title>
  </head>

  <body>
    {% include 'components/nav.html' %}
    <main class="container">
      <h2>|ğŸ—£ íŒ€ì› ì¶”ê°€</h2>
      <form class="member-form" method="POST" action="{{ url_for('teamMemberAdd', project_id=project_id) }}">
        <input type="hidden" name="project_id" value="project_id" />
        <div id="member-fields">
          <div class="member-field">
            <label for="name">ì´ë¦„</label>
            <select name="_id" class="name-select" onchange="updateUserInfo(this)" required>
              <option value="" disabled selected>íŒ€ì›ì„ ì„ íƒí•˜ì„¸ìš”</option>
              {% for user in users %}
                <option value="{{ user._id }}">{{ user.name }} {{user.email}}</option>
              {% endfor %}
            </select>

            <div class="member-info-box">
              <p class="email">ì´ë©”ì¼: ì„ íƒëœ íŒ€ì›ì´ ì—†ìŠµë‹ˆë‹¤.</p>
              <p class="position">ì§ê¸‰: -</p>
              <p class="department">ì†Œì†: -</p>
            </div>

            <label for="status">ìƒíƒœ</label>
            <select name="status" class="status-select" required>
              <option value="ì°¸ì—¬ì¤‘">ì°¸ì—¬ì¤‘</option>
              <option value="ëŒ€ê¸°">ëŒ€ê¸°</option>
            </select>
          </div>
        </div>

        <div class="form-buttons">
          <button type="submit" class="btn btn-blue">ë“±ë¡ ì™„ë£Œ</button>
          <button type="button" class="btn btn-blue" onclick="addMemberField()">+ íŒ€ì› ì¶”ê°€</button>
          <button type="button" class="btn btn-blue" onclick="removeLastMemberField(this)">ì‚­ì œ</button>
          <button type="button" class="btn btn-blue" onclick="window.history.back()">ë’¤ë¡œê°€ê¸°</button>
        </div>
      </form>
    </main>
    <script>
      const users = {{ users | tojson | safe }};
    </script>
    <script src="{{ url_for('static', filename='js/teamMemberAdd.js') }}"></script>
    <script src="{{ url_for('static', filename='js/notification.js') }}"></script>
    {% include 'components/footer.html' %}
  </body>
</html>

{#
íŒ€ì¥ì„ ì œì™¸í•œ íŒ€ì›ë“¤ì„ select ì—ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤

íŒ€ì› ì¶”ê°€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ íŒ€ì› ì¶”ê°€ ì…ë ¥ í•„ë“œë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤.

const users = {{ users | tojson | safe }}; flask ì—ì„œ listì¸ usersë¥¼ js ë¦¬ìŠ¤íŠ¸ë¡œ ë³€í™˜í•´ì£¼ëŠ” ì—­í• 

"íŒ€ì› ì¶”ê°€" ë²„íŠ¼ í´ë¦­ ì‹œ addMemberField() í•¨ìˆ˜ë¡œ ìƒˆë¡œìš´ .member-field ì…ë ¥ í¼ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

"ì‚­ì œ" ë²„íŠ¼ í´ë¦­ ì‹œ removeLastMemberField() í•¨ìˆ˜ë¡œ ê°€ì¥ ë§ˆì§€ë§‰ì— ì¶”ê°€í•œ íŒ€ì› ì…ë ¥ í•„ë“œë¥¼ ì‚­ì œí•©ë‹ˆë‹¤.

í¼ ì œì¶œí•˜ë©´ /teamMemberAdd/<project_id>ì— POST ìš”ì²­ì´ ê°‘ë‹ˆë‹¤. 
#}
